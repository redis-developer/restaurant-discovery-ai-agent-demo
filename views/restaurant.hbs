<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>{{restaurant.name}} - {{app_name}}</title>
    <link rel="stylesheet" href="../stylesheets/chat.css" media="screen,print" >
    <link rel="stylesheet" href="../stylesheets/restaurant.css" media="screen,print" >
    <link rel="icon" href="../images/redis-avatar.png" type="image/png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <meta name="description" content="{{restaurant.about}}">
    <meta property="og:title" content="{{restaurant.name}} - {{app_name}}">
    <meta property="og:description" content="{{restaurant.about}}">
</head>
<body class="neo-brutalist-theme">
    <!-- Header -->
    <header class="brutal-header">
        <div class="brutal-header-container">
            <div class="brutal-logo-section">
                <h1 class="brutal-site-logo">
                    <i class="fas fa-utensils"></i>
                    <a href="/app">{{app_name}}</a>
                </h1>
            </div>
            
            <div class="brutal-header-actions">
                <button onclick="history.back()" class="brutal-back-btn">
                    <i class="fas fa-arrow-left"></i> BACK
                </button>
                <div class="brutal-reservations-info">
                    <i class="fas fa-calendar-check"></i>
                    <span class="brutal-reservations-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Restaurant Details -->
    <main class="brutal-restaurant-container">
        <article class="brutal-restaurant-detail">
            <figure class="brutal-restaurant-image-section">
                <div class="brutal-restaurant-main-image">
                    <!-- Fallback emoji based on cuisine -->
                    <span class="brutal-restaurant-emoji">
                        {{#if (eq restaurant.cuisine "North Indian")}}ğŸ›{{/if}}
                        {{#if (eq restaurant.cuisine "South Indian")}}ğŸ¥˜{{/if}}
                        {{#if (eq restaurant.cuisine "Chinese")}}ğŸ¥¢{{/if}}
                        {{#if (eq restaurant.cuisine "Italian")}}ğŸ•{{/if}}
                        {{#if (eq restaurant.cuisine "Continental")}}ğŸ½ï¸{{/if}}
                        {{#if (eq restaurant.cuisine "Fast Food")}}ğŸ”{{/if}}
                        {{#unless restaurant.cuisine}}ğŸ½ï¸{{/unless}}
                    </span>
                </div>
            </figure>

            <div class="brutal-restaurant-info-section" data-restaurant-id="{{restaurant.id}}" data-restaurant-cuisine="{{restaurant.cuisine}}">
                <header class="brutal-restaurant-header">
                    <h2 class="brutal-restaurant-title">{{restaurant.name}}</h2>
                    {{#if restaurant.locality}}
                        <p class="brutal-restaurant-location">ğŸ“ {{restaurant.locality}}</p>
                    {{/if}}
                    {{#if restaurant.address}}
                        <p class="brutal-restaurant-address">ğŸ  {{restaurant.address}}</p>
                    {{/if}}
                    
                    <div class="brutal-restaurant-badges">
                        <span class="brutal-cuisine-badge">{{restaurant.cuisine}}</span>
                        {{#if restaurant.type}}
                            <span class="brutal-type-badge">{{restaurant.type}}</span>
                        {{/if}}
                        {{#if restaurant.known_for}}
                            <span class="brutal-specialty-badge">{{restaurant.known_for}}</span>
                        {{/if}}
                    </div>
                </header>

            <section class="brutal-restaurant-rating" aria-label="Restaurant Rating">
                    {{#if restaurant.rating}}
                        <div class="brutal-rating-stars">
                            {{#repeat restaurant.rating}}â­{{/repeat}}
                            <span class="brutal-rating-text">{{restaurant.rating}}/5</span>
                        </div>
                    {{/if}}
            </section>

            <section class="brutal-restaurant-pricing" aria-label="Pricing Information">
                    <div class="brutal-price-section">
                        <data class="brutal-current-price" value="{{restaurant.price_for_2}}">â‚¹{{restaurant.price_for_2}} for 2</data>
                    </div>
            </section>

                {{#if restaurant.about}}
                    <section class="brutal-restaurant-description" aria-labelledby="description-heading">
                        <h3 id="description-heading">ABOUT</h3>
                        <p>{{restaurant.about}}</p>
                    </section>
                {{/if}}

                {{#if restaurant.facilities}}
                    <section class="brutal-restaurant-facilities" aria-labelledby="facilities-heading">
                        <h3 id="facilities-heading">FACILITIES</h3>
                        <p>{{restaurant.facilities}}</p>
                    </section>
                {{/if}}

                <form class="brutal-restaurant-actions" aria-label="Book Table">
                    <fieldset class="brutal-guests-section">
                        <legend>GUESTS:</legend>
                        <div class="brutal-quantity-controls">
                            <button type="button" class="brutal-quantity-btn" data-quantity-change="-1">-</button>
                            <input type="number" id="guests" value="2" min="1" max="10" aria-label="Number of guests">
                            <button type="button" class="brutal-quantity-btn" data-quantity-change="1">+</button>
                        </div>
                    </fieldset>
                    
                    <button type="submit" class="brutal-book-table-btn">
                        <i class="fas fa-calendar-check"></i>
                        BOOK TABLE
                    </button>
                </form>
            </div>
        </article>

        <!-- Related Restaurants Section -->
        <aside class="brutal-related-restaurants" aria-labelledby="related-heading">
            <h3 id="related-heading">SIMILAR RESTAURANTS</h3>
            <div id="related-restaurants-grid" class="brutal-restaurants-grid" role="list">
                <!-- Related restaurants will be loaded here -->
            </div>
        </aside>
    </main>

    <!-- Success/Error Messages -->
    <div id="notification-container"></div>

    <script src="/javascripts/index-restaurant.js" type="module"></script>
</body>
</html>
